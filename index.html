<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>My Simple Bar</title>
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js" ></script>
    <style>
      .a {
        font-size: 2em;
        font-family: 'Lato', sans-serif;
        fill: #cb3b0a;
      }
    </style>
  </head>
  <body>
    <script>
      var scale = d3.scale.linear()
        .domain([1, 5])
        .range([0, 200]);
      var svg = d3.select("body").append("svg")
        .attr("width", 250)
        .attr("height", 250);

      function render(data, color){
        //Bind data
        var rects = svg.selectAll("rect").data(data);
        //Enter
        rects.enter().append("rect");
        //Update
        rects
          .attr("x", scale)
          .attr("y", 50)
          .attr("width", 20)
          .attr("height", 60)
          .attr("fill", color);
        //Exit
        rects.exit()
          .remove()
      }

      setTimeout(function(){render([1,2,3], "#cb3b0a"); }, 1000);
      setTimeout(function(){render([1,2,3,4,5], "steelblue"); }, 2000);
      setTimeout(function(){render([1,2], "#27ccc0"); }, 3000);
    </script>

  </body>
</html>
